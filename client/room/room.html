<template name="ChatRoom">
  <div class="row">
    <div class="col-xs-12">
      <form class="addUserToRoom input-group">
        <input id="userSearch" name="userSearch" type="text" class="form-control userSearch" placeholder="Search for a user" value={{userSearchTerm}}>
        <span class="input-group-btn">
          <button class="btn btn-primary" type="submit">Search</button>
        </span>
      </form>
      <div>
        <ul>
          {{#each users}}
            {{> userRow}}
          {{/each}}
        </ul>
      </div>
      {{#each messages}}
        {{#if isCurrentUser}}
          {{> MyMessage}}
        {{else}}
          {{> Message}}
        {{/if}}
      {{/each}}
      <div class="row fixed-bottom padded-sides">
        <div class="col-xs-12">
          <form class="input-group new-message">
            <input name="message" type="text" class="form-control" placeholder="Your message.">
            <span class="input-group-btn">
              <button type="submit" class="btn btn-success">Enter</button>
            </span>
          </form>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="MyMessage">
  <section class="media">
    <div class="media-body">
      <div class="row">
        <div class="col-xs-11 col-xs-offset-1 message-header">
            {{username}}: {{time}}
        </div>
      </div>
      <div class="row">
        <div class="col-xs-11 col-xs-offset-1">
          <p class="panel panel-default">{{message}}</p>
        </div>
      </div>
    </div>
    <div class="media-right">
      <!-- <a><img src="/img/64x64.svg" alt="Default Icon"></a> -->
      <a><span class="glyphicon glyphicon-user" aria-hidden="true"></span></a>
    </div>
  </section>
</template>


<template name="Message">
  <section class="media">
    <div class="media-left">
      <a><span class="glyphicon glyphicon-user"></span></a>
    </div>
    <div class="media-body">
      <div class="row">
        <div class="col-xs-11 message-header">
            <a>{{username}}</a>: {{time}}
        </div>
      </div>
      <div class="row">
        <div class="col-xs-11">
          <p class="panel panel-default">{{message}}</p>
        </div>
      </div>
    </div>
  </section>
</template>
